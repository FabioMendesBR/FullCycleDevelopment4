<!DOCTYPE html>
<!-- saved from url=(0063)https://www.keycloak.org/getting-started/getting-started-docker -->
<html lang="pt" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Keycloak - Guia - Keycloak no Docker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Keycloak is an open source identity and access management solution">
    <meta name="author" content="Keycloak Team">
    <meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">

    

    <meta http-equiv="Content-Security-Policy" content="default-src &#39;none&#39;; style-src &#39;self&#39;; img-src &#39;self&#39; https://www.google-analytics.com; font-src &#39;self&#39;; script-src &#39;self&#39; https://www.google-analytics.com; base-uri &#39;none&#39;; form-action &#39;none&#39;;">

    <link href="./GuiaDesafio-KeycloaknoDocker_files/bootstrap.min.css" rel="stylesheet">
    <link href="./GuiaDesafio-KeycloaknoDocker_files/font-awesome.min.css" rel="stylesheet">
    <link href="./GuiaDesafio-KeycloaknoDocker_files/keycloak.css" rel="stylesheet">

    <link rel="shortcut icon" href="https://www.keycloak.org/resources/favicon.ico">

    <script async="" src="./GuiaDesafio-KeycloaknoDocker_files/analytics.js.download"></script><script src="./GuiaDesafio-KeycloaknoDocker_files/ga.js.download" type="text/javascript"></script>
    <script src="./GuiaDesafio-KeycloaknoDocker_files/jquery-1.11.1.min.js.download" type="text/javascript"></script>
    <script src="./GuiaDesafio-KeycloaknoDocker_files/bootstrap.min.js.download" type="text/javascript"></script>
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./GuiaDesafio-KeycloaknoDocker_files/translateelement.css"></head>
<body cz-shortcut-listen="true">
<div id="wrap">
<header class="main-header">
    <div class="container">
        <div class="row">
            <div class="col-md-3 col-sm-3 col-xs-12 keycloak-logo-div navbar-header">
                <button type="button" class=" pull-right  navbar-toggle collapsed" data-toggle="collapse" data-target="#mainBtnTarget" aria-expanded="false">
                    <span class="sr-only"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alternar de navegação</font></font></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="https://www.keycloak.org/" title="Keycloak" class="keycloak-logo-a">
                    <img class="keycloak-logo" src="./GuiaDesafio-KeycloaknoDocker_files/keycloak_logo_480x108.png" border="0" alt="Keycloak">
                </a>
            </div>
            <div id="mainBtnTarget" class="col-md-9 col-sm-9 col-xs-12 collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="https://www.keycloak.org/getting-started"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iniciar</font></font></a></li>
                    <li><a href="https://www.keycloak.org/documentation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docs</font></font></a></li>
                    <li><a href="https://www.keycloak.org/downloads"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transferências</font></font></a></li>
                    <li><a href="https://www.keycloak.org/community"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comunidade</font></font></a></li>
                    <li><a href="https://www.keycloak.org/blog"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blog</font></font></a></li>
                </ul>
            </div>
        </div>
    </div>
</header>

<div class="page-section">
    <div class="container blog">
        <h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keycloak no Docker</font></font></h1>
        <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comece a usar o Keycloak no Docker</font></font></p>

<div class="sect1">
<h2 id="_before_you_start"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes que você comece</font></font></h2>
<div class="sectionbody">
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certifique-se de ter o Docker instalado.</font></font></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_start_keycloak"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iniciar Keycloak</font></font></h2>
<div class="sectionbody">
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em um terminal, inicie o Keycloak com o seguinte comando:</font></font></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">docker run -p 8080:8080 -e KEYCLOAK_USER=admin -e KEYCLOAK_PASSWORD=admin quay.io/keycloak/keycloak:11.0.1</code></pre>
</div>
</div>
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso iniciará o Keycloak exposto na porta local 8080. Também criará um usuário administrador inicial com nome de usuário </font></font><code>admin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
e senha </font></font><code>admin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_login_to_the_admin_console"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faça login no console de administração</font></font></h2>
<div class="sectionbody">
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vá para o </font></font><a href="http://localhost:8080/auth/admin" target="_blank" rel="noopener"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Console de administração</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><a href="http://localhost:8080/auth/admin" target="_blank" rel="noopener"><font style="vertical-align: inherit;">Keycloak</font></a><font style="vertical-align: inherit;"> e faça o login com o nome de usuário e a senha que você criou anteriormente.</font></font></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_realm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie um reino</font></font></h2>
<div class="sectionbody">
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um reino no Keycloak é equivalente a um inquilino. </font><font style="vertical-align: inherit;">Permite a criação de grupos isolados de aplicativos e usuários. </font><font style="vertical-align: inherit;">Por padrão, há um único domínio no Keycloak chamado </font></font><code>master</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ele é dedicado ao gerenciamento do Keycloak e não deve ser usado para seus próprios aplicativos.</font></font></p>
</div>
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos criar nosso primeiro reino.</font></font></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abra o </font><a href="http://localhost:8080/auth/admin" target="_blank" rel="noopener"><font style="vertical-align: inherit;">Admin Console</font></a><font style="vertical-align: inherit;"> do </font></font><a href="http://localhost:8080/auth/admin" target="_blank" rel="noopener"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keycloak</font></font></a></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passe o mouse sobre a lista suspensa no canto superior esquerdo onde está escrito </font></font><code>Master</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e clique em</font></font><code>Add realm</code></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preencha o formulário com os seguintes valores:</font></font></p>
<div class="ulist">
<ul>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nome: </font></font><code>myrealm</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clique </font></font><code>Create</code></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./GuiaDesafio-KeycloaknoDocker_files/add-realm.png" alt="Adicionar Reino">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_user"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criar um usuário</font></font></h2>
<div class="sectionbody">
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inicialmente, não há usuários em um novo domínio, então vamos criar um:</font></font></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abra o </font><a href="http://localhost:8080/auth/admin" target="_blank" rel="noopener"><font style="vertical-align: inherit;">Admin Console</font></a><font style="vertical-align: inherit;"> do </font></font><a href="http://localhost:8080/auth/admin" target="_blank" rel="noopener"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keycloak</font></font></a></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clique </font></font><code>Users</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(menu à esquerda)</font></font></p>
<div class="ulist">
<ul>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clique em </font></font><code>Add user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(canto superior direito da tabela)</font></font></p>
</li>
</ul>
</div>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preencha o formulário com os seguintes valores:</font></font></p>
<div class="ulist">
<ul>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nome do usuário: </font></font><code>myuser</code></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro nome: Seu primeiro nome</font></font></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobrenome: Seu sobrenome</font></font></p>
</li>
</ul>
</div>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clique </font></font><code>Save</code></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./GuiaDesafio-KeycloaknoDocker_files/add-user.png" alt="Adicionar usuário">
</div>
</div>
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O usuário precisará de uma senha inicial definida para poder fazer o login. </font><font style="vertical-align: inherit;">Para fazer isso:</font></font></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clique </font></font><code>Credentials</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(topo da página)</font></font></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preencha o </font></font><code>Set Password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formulário com uma senha</font></font></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clique </font></font><code>ON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ao lado de </font></font><code>Temporary</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para evitar ter que atualizar a senha no primeiro login</font></font></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./GuiaDesafio-KeycloaknoDocker_files/set-password.png" alt="Configurar senha">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_login_to_account_console"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faça login no console da conta</font></font></h2>
<div class="sectionbody">
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos agora tentar fazer login no console da conta para verificar se o usuário está configurado corretamente.</font></font></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abra o </font></font><a href="http://localhost:8080/auth/realms/myrealm/account" target="_blank" rel="noopener"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">console da conta Keycloak</font></font></a></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faça login com </font></font><code>myuser</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e a senha que você criou anteriormente</font></font></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora você deve estar conectado ao console da conta, onde os usuários podem gerenciar suas contas.</font></font></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./GuiaDesafio-KeycloaknoDocker_files/account-console.png" alt="Keycloak Account Console">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_secure_your_first_app"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proteja seu primeiro aplicativo</font></font></h2>
<div class="sectionbody">
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos tentar proteger nosso primeiro aplicativo. </font><font style="vertical-align: inherit;">A primeira etapa é registrar este aplicativo com sua instância Keycloak:</font></font></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abra o </font><a href="http://localhost:8080/auth/admin" target="_blank" rel="noopener"><font style="vertical-align: inherit;">Admin Console</font></a><font style="vertical-align: inherit;"> do </font></font><a href="http://localhost:8080/auth/admin" target="_blank" rel="noopener"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keycloak</font></font></a></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clique em 'Clientes'</font></font></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preencha o formulário com os seguintes valores:</font></font></p>
<div class="ulist">
<ul>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID do Cliente: </font></font><code>myclient</code></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protocolo do cliente: </font></font><code>openid-connect</code></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL raiz: </font></font><code><a href="https://www.keycloak.org/app/" class="bare">https://www.keycloak.org/app/</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clique </font></font><code>Save</code></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./GuiaDesafio-KeycloaknoDocker_files/add-client.png" alt="Adicionar Cliente">
</div>
</div>
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para facilitar para você, temos um aplicativo de teste do SPA disponível no </font></font><a href="https://www.keycloak.org/app/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da </font><a href="https://www.keycloak.org/app/"><font style="vertical-align: inherit;">Keycloak</font></a><font style="vertical-align: inherit;"> .</font></font></p>
</div>
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abra </font></font><a href="https://www.keycloak.org/app/" class="bare"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.keycloak.org/app/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e clique </font></font><code>Save</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para usar a configuração padrão.</font></font></p>
</div>
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora você pode clicar </font></font><code>Sign in</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para se autenticar neste aplicativo usando o servidor Keycloak iniciado anteriormente.</font></font></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Próximo</font></font></h2>
<div class="sectionbody">
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de executar o Keycloak na produção, há mais algumas coisas que você deseja fazer, incluindo:</font></font></p>
</div>
<div class="ulist">
<ul>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mude para um banco de dados pronto para produção, como PostgreSQL</font></font></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure SSL com seus próprios certificados</font></font></p>
</li>
<li>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Troque a senha de administrador por uma senha mais segura</font></font></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para obter mais informações, verifique a </font></font><a href="https://www.keycloak.org/documentation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentação</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><a href="https://www.keycloak.org/documentation"><font style="vertical-align: inherit;">Keycloak</font></a><font style="vertical-align: inherit;"> .</font></font></p>
</div>
</div>
</div>    </div>
</div>
		</div>
		<div id="push"></div>
    

    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-9 col-xs-12">
                    <a href="http://www.redhat.com/" target="_blank">
                        <img alt="redhatlogo-white" src="./GuiaDesafio-KeycloaknoDocker_files/redhatlogo-white.png" width="130">
                    </a>
                </div>
            </div>
        </div>
    </div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./GuiaDesafio-KeycloaknoDocker_files/translate_24dp.png" width="20" height="20" alt="Google Tradutor"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Texto original</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Sugerir uma tradução melhor</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>
  
<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div><div id="bitcoinback-detected"></div></body></html>